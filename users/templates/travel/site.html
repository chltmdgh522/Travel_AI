<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—¬í–‰ ì¼ì •</title>


    <!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© CSS ë§í¬ ì¶”ê°€ -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        /* ì—¬ê¸°ì— ì‚¬ìš©ì ì •ì˜ ìŠ¤íƒ€ì¼ ì¶”ê°€ ê°€ëŠ¥ */
        body {
            background-color: #f8f9fa;
            padding-top: 50px; /* Navbarê°€ í˜ì´ì§€ ë‚´ìš©ì„ ê°€ë¦¬ì§€ ì•Šë„ë¡ ì¡°ì ˆ */

        }
        .container {
            margin-top: 50px;
        }
    </style>
</head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <a class="navbar-brand" href="/">LOVE TRIP</a>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ml-auto">
            {% if user.is_authenticated %}
            <a href="{% url 'users-profile' %}" class="nav-item nav-link">ë§ˆì´í”„ë¡œí•„</a>
            <a href="{% url 'logout' %}" class="nav-item nav-link">ë¡œê·¸ì•„ì›ƒ</a>
            {% else %}
            <a href="{% url 'login' %}" class="nav-item nav-link">ë¡œê·¸ì¸</a>
            {% endif %}
        </div>
    </div>
</nav>


 <div id="map" style="height: 400px; width: 100%;"></div>
    <script>
    var map; // ì „ì—­ìœ¼ë¡œ map ë³€ìˆ˜ ì •ì˜
    var markers = [];
    function initMap(callback) {
        map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: {{ row_data.ìœ„ë„1 }}, lng: {{ row_data.ê²½ë„1 }}},
            zoom: 15,
        });

        // ì—¬í–‰ ì¼ì •ì˜ ìœ„ì¹˜ ë°ì´í„° ë°°ì—´

        var locations = [];
        {% if travel_duration >= 1 %}
            locations.push({lat: {{ row_data.ìœ„ë„1 }}, lng: {{ row_data.ê²½ë„1 }}});
        {% endif %}

        {% if travel_duration >= 2 %}
            locations.push({lat: {{ row_data.ìœ„ë„2 }}, lng: {{ row_data.ê²½ë„2 }}});
        {% endif %}

        {% if travel_duration >= 3 %}
            locations.push({lat: {{ row_data.ìœ„ë„3 }}, lng: {{ row_data.ê²½ë„3 }}});
        {% endif %}

        {% if travel_duration >= 4 %}
            locations.push({lat: {{ row_data.ìœ„ë„4 }}, lng: {{ row_data.ê²½ë„4 }}});
        {% endif %}

        {% if travel_duration >= 5 %}
            locations.push({lat: {{ row_data.ìœ„ë„5 }}, lng: {{ row_data.ê²½ë„5 }}});
        {% endif %}

        {% if travel_duration >= 6 %}
            locations.push({lat: {{ row_data.ìœ„ë„6 }}, lng: {{ row_data.ê²½ë„6 }}});
        {% endif %}

        {% if travel_duration >= 7 %}
            locations.push({lat: {{ row_data.ìœ„ë„7 }}, lng: {{ row_data.ê²½ë„7 }}});
        {% endif %}

        {% if travel_duration >= 8 %}
            locations.push({lat: {{ row_data.ìœ„ë„8 }}, lng: {{ row_data.ê²½ë„8 }}});
        {% endif %}

        {% if travel_duration >= 9 %}
            locations.push({lat: {{ row_data.ìœ„ë„9 }}, lng: {{ row_data.ê²½ë„9 }}});
        {% endif %}

        // ê° ìœ„ì¹˜ì— ë§ˆì»¤ ì¶”ê°€
        for (var i = 0; i < locations.length; i++) {
            console.log(locations[i]);
            var marker = new google.maps.Marker({
                position: locations[i],
                map: map,
                title: 'u',
            });

            // í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
    marker.addListener('click', function() {
        // í´ë¦­í•œ ë§ˆì»¤ì˜ ìœ„ì¹˜ ì •ë³´ë¥¼ ì½˜ì†”ì— ì¶œë ¥
         var markerPosition = this.getPosition();

        // ì •ë³´ ì°½ ìƒì„±
        var infoWindow = new google.maps.InfoWindow({
            content: 'ì—¬í–‰ì§€ ìœ„ì¹˜ëŠ” ' + markerPosition + " ì—¬ê¸°ì—ìš”! "

        });

        infoWindow.open(map, this);
    });
    markers.push(marker);
        }

    }

    function highlightMarker(markerIndex, latitude, longitude) {
        console.log("gkdl")
    // ì´ë™í•  ìœ„ì¹˜ ìƒì„±
    var newPosition = new google.maps.LatLng(latitude, longitude);

    // í•´ë‹¹ ë§ˆì»¤ë¡œ ì§€ë„ ì´ë™
    map.panTo(newPosition);

    // ì„ íƒí•œ ë§ˆì»¤ ê°•ì¡° íš¨ê³¼ ë“±ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    // ì˜ˆ: markers[markerIndex].setAnimation(google.maps.Animation.BOUNCE);
}
    </script>
 <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBuTKuky_Mpk7I2XA4oL0RI1lrV0Aq7FKs&callback=initMap"
            async defer></script>

<div class="container">
    <h2 class="mb-4">ğŸš€{{row_data.ê¸°ê°„ }}ì˜ ì—¬í–‰ì¼ì •</h2>

        {% if travel_duration >= 1 %}
            <div class="card" id="location-card-{{ 1 }}"  onclick="highlightMarker(1,{{ row_data.ìœ„ë„1 }}, {{ row_data.ê²½ë„1 }})">
                <div class="card-body">
                    <h5 class="card-title">1ì¼ì§¸ğŸ˜Š</h5>
                    <p class="card-text">
                        <strong>ì—¬í–‰ì§€:</strong> {{ row_data.ì—¬í–‰ì§€1}}
                        <br>
                        <strong>ìœ„ë„:</strong> {{ row_data.ìœ„ë„1 }}
                        <strong>ê²½ë„:</strong> {{ row_data.ê²½ë„1}}
                        <br>
                        <strong>ì—¬í–‰ í‚¤ì›Œë“œ:</strong> {{ row_data.í‚¤ì›Œë“œ }}
                    </p>
                </div>
            </div>
    {% endif %}
        {% if travel_duration >= 2 %}
            <div class="card" id="location-card-{{ 2 }}" onclick="highlightMarker(2,{{ row_data.ìœ„ë„2 }}, {{ row_data.ê²½ë„2 }})">
                <div class="card-body">
                    <h5 class="card-title">2ì¼ì§¸â­</h5>
                    <p class="card-text">
                        <strong>ì—¬í–‰ì§€:</strong> {{ row_data.ì—¬í–‰ì§€2}}
                        <br>
                        <strong>ìœ„ë„:</strong> {{ row_data.ìœ„ë„2 }}
                        <strong>ê²½ë„:</strong> {{ row_data.ê²½ë„2}}
                        <br>
                        <strong>ì—¬í–‰ í‚¤ì›Œë“œ:</strong> {{ row_data.í‚¤ì›Œë“œ }}
                    </p>
                </div>
            </div>
{% endif %}
        {% if travel_duration >= 3 %}
            <div class="card" id="location-card-{{ 3 }}" onclick="highlightMarker(3,{{ row_data.ìœ„ë„3 }}, {{ row_data.ê²½ë„3 }})">
                <div class="card-body">
                    <h5 class="card-title">3ë°•</h5>
                    <p class="card-text">
                        <strong>ì—¬í–‰ì§€:</strong> {{ row_data.ì—¬í–‰ì§€3}}
                        <br>
                        <strong>ìœ„ë„:</strong> {{ row_data.ìœ„ë„3 }}
                        <strong>ê²½ë„:</strong> {{ row_data.ê²½ë„3}}
                        <br>
                        <strong>ì—¬í–‰ í‚¤ì›Œë“œ:</strong> {{ row_data.í‚¤ì›Œë“œ }}
                    </p>
                </div>
            </div>
{% endif %}
        {% if travel_duration >= 4 %}
            <div class="card" id="location-card-{{ 4 }}" onclick="highlightMarker(4,{{ row_data.ìœ„ë„4 }}, {{ row_data.ê²½ë„4 }})">
                <div class="card-body">
                    <h5 class="card-title">4ë°•</h5>
                    <p class="card-text">
                        <strong>ì—¬í–‰ì§€:</strong> {{ row_data.ì—¬í–‰ì§€4}}
                        <br>
                        <strong>ìœ„ë„:</strong> {{ row_data.ìœ„ë„4 }}
                        <strong>ê²½ë„:</strong> {{ row_data.ê²½ë„4}}
                        <br>
                        <strong>ì—¬í–‰ í‚¤ì›Œë“œ:</strong> {{ row_data.í‚¤ì›Œë“œ }}
                    </p>
                </div>
            </div>
{% endif %}
        {% if travel_duration >= 5 %}
            <div class="card" id="location-card-{{ 5 }}" onclick="highlightMarker(5,{{ row_data.ìœ„ë„5 }}, {{ row_data.ê²½ë„5 }})">
                <div class="card-body">
                    <h5 class="card-title">5ë°•</h5>
                    <p class="card-text">
                        <strong>ì—¬í–‰ì§€:</strong> {{ row_data.ì—¬í–‰ì§€5}}
                        <br>
                        <strong>ìœ„ë„:</strong> {{ row_data.ìœ„ë„5 }}
                        <strong>ê²½ë„:</strong> {{ row_data.ê²½ë„5}}
                        <br>
                        <strong>ì—¬í–‰ í‚¤ì›Œë“œ:</strong> {{ row_data.í‚¤ì›Œë“œ }}
                    </p>
                </div>
            </div>
{% endif %}
        {% if travel_duration >= 6 %}
            <div class="card" id="location-card-{{ 6 }}" onclick="highlightMarker(6,{{ row_data.ìœ„ë„6 }}, {{ row_data.ê²½ë„6 }})">
                <div class="card-body">
                    <h5 class="card-title">6ë°•</h5>
                    <p class="card-text">
                        <strong>ì—¬í–‰ì§€:</strong> {{ row_data.ì—¬í–‰ì§€6}}
                        <br>
                        <strong>ìœ„ë„:</strong> {{ row_data.ìœ„ë„6 }}
                        <strong>ê²½ë„:</strong> {{ row_data.ê²½ë„6}}
                        <br>
                        <strong>ì—¬í–‰ í‚¤ì›Œë“œ:</strong> {{ row_data.í‚¤ì›Œë“œ }}
                    </p>
                </div>
            </div>
{% endif %}
        {% if travel_duration >= 7 %}
            <div class="card" id="location-card-{{ 7 }}" onclick="highlightMarker(7,{{ row_data.ìœ„ë„7 }}, {{ row_data.ê²½ë„7 }})">
                <div class="card-body">
                    <h5 class="card-title">7ë°•</h5>
                    <p class="card-text">
                        <strong>ì—¬í–‰ì§€:</strong> {{ row_data.ì—¬í–‰ì§€7}}
                        <br>
                        <strong>ìœ„ë„:</strong> {{ row_data.ìœ„ë„7 }}
                        <strong>ê²½ë„:</strong> {{ row_data.ê²½ë„7}}
                        <br>
                        <strong>ì—¬í–‰ í‚¤ì›Œë“œ:</strong> {{ row_data.í‚¤ì›Œë“œ7 }}
                    </p>
                </div>
            </div>
{% endif %}
        {% if travel_duration >= 8 %}
            <div class="card" id="location-card-{{ 8 }}" onclick="highlightMarker(8,{{ row_data.ìœ„ë„8 }}, {{ row_data.ê²½ë„8 }})">
                <div class="card-body">
                    <h5 class="card-title">8ë°•</h5>
                    <p class="card-text">
                        <strong>ì—¬í–‰ì§€:</strong> {{ row_data.ì—¬í–‰ì§€8}}
                        <br>
                        <strong>ìœ„ë„:</strong> {{ row_data.ìœ„ë„8 }}
                        <strong>ê²½ë„:</strong> {{ row_data.ê²½ë„8}}
                        <br>
                        <strong>ì—¬í–‰ í‚¤ì›Œë“œ:</strong> {{ row_data.í‚¤ì›Œë“œ }}
                    </p>
                </div>
            </div>
{% endif %}
        {% if travel_duration >= 9 %}
            <div class="card" id="location-card-{{ 9 }}" onclick="highlightMarker(9,{{ row_data.ìœ„ë„9 }}, {{ row_data.ê²½ë„9 }})">
                <div class="card-body">
                    <h5 class="card-title">9ì¼ì§¸</h5>
                    <p class="card-text">
                        <strong>ì—¬í–‰ì§€:</strong> {{ row_data.ì—¬í–‰ì§€9}}
                        <br>
                        <strong>ìœ„ë„:</strong> {{ row_data.ìœ„ë„9 }}
                        <strong>ê²½ë„:</strong> {{ row_data.ê²½ë„9}}
                        <br>
                        <strong>ì—¬í–‰ í‚¤ì›Œë“œ:</strong> {{ row_data.í‚¤ì›Œë“œ }}
                    </p>
                </div>
            </div>
                {% endif %}




</div>

<!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© JS ë° Popper.js, jQuery ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</body>
</html>
